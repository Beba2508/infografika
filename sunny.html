<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infografika: Usporedba Recenzija</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc;
        }
        .score-box {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s;
        }
        .score-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        .rank-gradient {
            background-image: linear-gradient(to right, #f97316, #ef4444); /* Naranƒçasto-crveni tonovi */
        }
        .score-opatija { border-top: 8px solid #3b82f6; }
        .score-sunny { border-top: 8px solid #10b981; }
        
        .bar-before { background-color: #9ca3af; /* Gray */ }
        .bar-after-positive { background-color: #10b981; /* Green */ }
        .bar-after-negative { background-color: #ef4444; /* Red */ }

        .category-label {
            min-width: 120px;
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <!-- Glavni Kontejner Infografike -->
    <div class="max-w-4xl mx-auto">

        <header class="text-center mb-10 p-6 rank-gradient text-white rounded-xl">
            <h1 class="text-3xl sm:text-4xl font-extrabold mb-2">USPORDNA ANALIZA RECENZIJA</h1>
            <p class="text-lg font-medium opacity-90">OPATIJA vs. SUNNY ‚Äì Rijeka: Trendovi i Promjene</p>
        </header>

        <!-- 1. Rang Lista (Ukupni Prosjek) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-red-500 pb-2">1. Ukupni Prosjek Ocjena</h2>
            
            <div class="space-y-4">
                
                <!-- Rank 1: OPATIJA -->
                <div class="score-box p-4 flex items-center justify-between border-l-4 border-blue-500">
                    <div class="flex items-center">
                        <span class="text-3xl font-black text-blue-500 mr-4">1.</span>
                        <div>
                            <p class="font-bold text-lg text-gray-900">OPATIJA</p>
                            <p class="text-sm text-gray-500">Ukupno recenzija: 61</p>
                        </div>
                    </div>
                    <span class="text-2xl font-extrabold text-blue-600">8.74</span>
                </div>

                <!-- Rank 2: SUNNY - Rijeka -->
                <div class="score-box p-4 flex items-center justify-between border-l-4 border-green-500">
                    <div class="flex items-center">
                        <span class="text-3xl font-black text-green-500 mr-4">2.</span>
                        <div>
                            <p class="font-bold text-lg text-gray-900">SUNNY ‚Äì Rijeka</p>
                            <p class="text-sm text-gray-500">Ukupno recenzija: 98</p>
                        </div>
                    </div>
                    <span class="text-2xl font-extrabold text-green-600">8.58</span>
                </div>
            </div>
        </section>

        <!-- 2. Usporedba Prije i Poslije 01.06.2025. (Kljuƒçna sekcija) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-red-500 pb-2">2. Trendovi: Promjene u Ocjenama (Prije vs. Poslije 01.06.2025.)</h2>
            
            <div id="comparison-section" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Kartice sa usporedbom ƒáe biti generirane ovdje -->
            </div>
        </section>

        <!-- 3. Detaljne Kartice (Ukupni Prosjeci) -->
        <section class="mb-12">
            <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b-2 border-red-500 pb-2">3. Detaljne Ocjene po Kategorijama (Ukupni Prosjek)</h2>
            
            <div id="detailed-scores" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Kartice s ukupnim prosjecima ƒáe biti generirane ovdje -->
            </div>
        </section>
        
        <!-- 4. Glavni Zakljuƒçak i Zapa≈æanja -->
        <section class="mb-12 p-6 bg-red-100 rounded-xl">
            <h2 class="text-2xl font-bold text-red-800 mb-4 flex items-center">
                <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-5.618 3.047A12.003 12.003 0 002 15c0 1.511.229 2.977.659 4.345.139.42.455.727.772.937A10.874 10.874 0 0012 21.001c2.477 0 4.808-.621 6.89-1.719.317-.21.633-.517.772-.937.43-.916.659-1.898.659-2.903A12.003 12.003 0 0018.382 7.984z"></path></svg>
                Kljuƒçni Zakljuƒçci i Trendovi
            </h2>
            <div class="space-y-4 text-gray-700">
                <p class="font-bold text-red-700">OPATIJA: Upozorenje na Pad Performansi</p>
                <p>Opatija (8.74), unatoƒç vi≈°em ukupnom prosjeku, bilje≈æi pad u svim kategorijama nakon 01.06.2025. Najizra≈æeniji je pad u ocjeni Osoblja (s 8.26 na 7.66) te u kategoriji Sadr≈æaji. Ipak, ƒåistoƒáa ostaje najjaƒça toƒçka destinacije, iako s blagim smanjenjem u ocjeni.</p>
                
                <hr class="border-red-300">
                
                <p class="font-bold text-green-700">SUNNY ‚Äì Rijeka: Pozitivan Uzlazni Trend</p>
                <p>Sunny ‚Äì Rijeka (8.58) bilje≈æi znaƒçajno pobolj≈°anje nakon 01.06.2025., osobito u kategorijama Sadr≈æaji (s 8.84 na 9.20) i Lokacija (s 7.95 na 8.70). Iako su Osoblje i Vrijednost za novac i dalje najslabije ocijenjene kategorije, i one su pokazale pozitivan pomak u drugom razdoblju, ≈°to ukazuje na kontinuirani napredak.</p>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center text-gray-500 text-xs mt-10 p-4 border-t border-gray-200">
            Analiza generirana na temelju dostavljenih prosjeƒçnih ocjena.
        </footer>

    </div>

    <script>
        // Podaci za vizualizaciju
        const overallData = [
            { 
                name: "OPATIJA", 
                overall: 8.74, 
                scores: { Osoblje: 8.09, ƒåistoƒáa: 9.14, Lokacija: 8.32, Sadr≈æaji: 8.96, Udobnost: 9.06, "Vrijednost za novac": 8.85 } 
            },
            { 
                name: "SUNNY ‚Äì Rijeka", 
                overall: 8.58, 
                scores: { Osoblje: 8.40, ƒåistoƒáa: 8.83, Lokacija: 8.14, Sadr≈æaji: 8.93, Udobnost: 8.83, "Vrijednost za novac": 8.39 } 
            }
        ];

        const comparativeData = [
            {
                name: "OPATIJA",
                before: { Osoblje: 8.26, ƒåistoƒáa: 9.20, Lokacija: 8.30, Sadr≈æaji: 9.03, Udobnost: 9.15, "Vrijednost za novac": 8.98 },
                after: { Osoblje: 7.66, ƒåistoƒáa: 8.97, Lokacija: 8.38, Sadr≈æaji: 8.75, Udobnost: 8.82, "Vrijednost za novac": 8.53 },
                color: 'text-blue-600',
                trend: 'üìâ PAD U PERFORMANSAMA'
            },
            {
                name: "SUNNY ‚Äì Rijeka",
                before: { Osoblje: 8.40, ƒåistoƒáa: 8.84, Lokacija: 7.95, Sadr≈æaji: 8.84, Udobnost: 8.77, "Vrijednost za novac": 8.29 },
                after: { Osoblje: 8.40, ƒåistoƒáa: 8.80, Lokacija: 8.70, Sadr≈æaji: 9.20, Udobnost: 9.00, "Vrijednost za novac": 8.70 },
                color: 'text-green-600',
                trend: 'üìà RAST U PERFORMANSAMA'
            }
        ];
        
        // --- Pomoƒáne funkcije ---
        function getBarColor(scoreBefore, scoreAfter) {
            if (scoreAfter > scoreBefore) return 'bar-after-positive';
            if (scoreAfter < scoreBefore) return 'bar-after-negative';
            return 'bg-gray-400';
        }

        // --- Generiranje Usporednih kartica (Prije vs. Poslije) ---
        function createComparisonCard(data) {
            let html = `
                <div class="score-box p-5 ${data.name === 'OPATIJA' ? 'score-opatija' : 'score-sunny'}">
                    <h3 class="text-xl font-bold ${data.color} mb-1">${data.name}</h3>
                    <p class="text-sm font-semibold text-gray-500 mb-4">${data.trend}</p>
                    <ul class="space-y-3">
            `;

            for (const category in data.before) {
                const scoreBefore = data.before[category];
                const scoreAfter = data.after[category];
                const barWidthBefore = (scoreBefore / 10.0) * 100;
                const barWidthAfter = (scoreAfter / 10.0) * 100;
                const afterColor = getBarColor(scoreBefore, scoreAfter);
                const difference = (scoreAfter - scoreBefore).toFixed(2);
                
                html += `
                    <li>
                        <div class="flex items-center mb-1">
                            <span class="text-xs font-semibold category-label text-gray-800">${category}</span>
                            <span class="text-xs font-bold w-1/4 text-right ${difference >= 0 ? 'text-green-600' : 'text-red-600'}">
                                (${difference})
                            </span>
                        </div>
                        
                        <!-- Traka Prije (Siva) -->
                        <div class="flex items-center mb-1">
                            <span class="text-xs w-1/4 text-gray-500">Prije:</span>
                            <div class="w-3/4 bg-gray-200 rounded-full h-2.5">
                                <div class="bar-before h-2.5 rounded-full" style="width: ${barWidthBefore}%;"></div>
                            </div>
                            <span class="text-xs font-semibold ml-2 text-gray-700">${scoreBefore.toFixed(2)}</span>
                        </div>
                        
                        <!-- Traka Poslije (Boja trenda) -->
                        <div class="flex items-center">
                            <span class="text-xs w-1/4 text-gray-500">Poslije:</span>
                            <div class="w-3/4 bg-gray-200 rounded-full h-2.5">
                                <div class="${afterColor} h-2.5 rounded-full" style="width: ${barWidthAfter}%;"></div>
                            </div>
                            <span class="text-xs font-semibold ml-2 text-gray-700">${scoreAfter.toFixed(2)}</span>
                        </div>
                    </li>
                `;
            }

            html += `
                    </ul>
                </div>
            `;
            return html;
        }

        // --- Generiranje Detaljnih Kartica (Ukupni prosjek) ---
        function createOverallScoreCard(data) {
            let html = `
                <div class="score-box p-5 ${data.name === 'OPATIJA' ? 'score-opatija' : 'score-sunny'}">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-gray-900">${data.name}</h3>
                        <span class="text-2xl font-extrabold ${data.name === 'OPATIJA' ? 'text-blue-600' : 'text-green-600'}">${data.overall.toFixed(2)}</span>
                    </div>
                    <ul class="space-y-2">
            `;

            for (const category in data.scores) {
                const score = data.scores[category];
                const barColor = score >= 9.0 ? 'bg-indigo-500' : (score >= 8.5 ? 'bg-orange-500' : 'bg-red-500');
                const barWidth = (score / 10.0) * 100;

                html += `
                    <li>
                        <div class="flex justify-between text-sm font-medium text-gray-600 mb-1">
                            <span>${category}</span>
                            <span class="font-semibold text-gray-700">${score.toFixed(2)}</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div class="${barColor} h-2.5 rounded-full" style="width: ${barWidth}%;"></div>
                        </div>
                    </li>
                `;
            }

            html += `
                    </ul>
                </div>
            `;
            return html;
        }


        // --- Glavna funkcija za renderiranje ---
        document.addEventListener('DOMContentLoaded', () => {
            const comparisonContainer = document.getElementById('comparison-section');
            const overallContainer = document.getElementById('detailed-scores');
            
            // 1. Renderiraj usporedne kartice
            comparativeData.forEach(data => {
                comparisonContainer.innerHTML += createComparisonCard(data);
            });

            // 2. Renderiraj kartice ukupnih prosjeka (Sortiraj po overallAvg)
            overallData.sort((a, b) => b.overall - a.overall); 

            overallData.forEach(data => {
                overallContainer.innerHTML += createOverallScoreCard(data);
            });
        });
    </script>
</body>
</html>
